{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{ShoppingCartIcon,XMarkIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Cart=()=>{const[isOpen,setIsOpen]=useState(false);const[items,setItems]=useState([{id:1,name:'红烧狮子头',price:68,quantity:1,image:'/images/dish1.jpg',specialRequest:'不要香菜'}]);const total=items.reduce((sum,item)=>sum+item.price*item.quantity,0);const deliveryFee=5;const packagingFee=2;const finalTotal=total+deliveryFee+packagingFee;const updateQuantity=(id,change)=>{setItems(items.map(item=>{if(item.id===id){const newQuantity=Math.max(1,item.quantity+change);return{...item,quantity:newQuantity};}return item;}));};const removeItem=id=>{setItems(items.filter(item=>item.id!==id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(true),className:\"fixed bottom-8 right-8 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary-dark\",children:[/*#__PURE__*/_jsx(ShoppingCartIcon,{className:\"h-6 w-6\"}),items.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-accent-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",children:items.length})]}),isOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black bg-opacity-50 z-50\",onClick:()=>setIsOpen(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{x:'100%'},animate:{x:0},exit:{x:'100%'},transition:{type:'spring',damping:20},className:\"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-heading\",children:\"\\u8D2D\\u7269\\u8F66\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-[calc(100vh-200px)]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"w-20 h-20 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary font-price\",children:[\"\\xA5\",item.price]}),item.specialRequest&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"\\u5907\\u6CE8\\uFF1A\",item.specialRequest]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,-1),className:\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,1),className:\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\",children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-5 w-5\"})})]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5546\\u54C1\\u603B\\u989D\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA5\",total]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u914D\\u9001\\u8D39\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA5\",deliveryFee]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5305\\u88C5\\u8D39\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA5\",packagingFee]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-bold text-lg\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u603B\\u8BA1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary\",children:[\"\\xA5\",finalTotal]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-primary text-white py-3 rounded-full hover:bg-primary-dark\",disabled:items.length===0,children:\"\\u53BB\\u7ED3\\u7B97\"})]})]})]})})]});};export default Cart;","map":{"version":3,"names":["React","useState","motion","ShoppingCartIcon","XMarkIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","isOpen","setIsOpen","items","setItems","id","name","price","quantity","image","specialRequest","total","reduce","sum","item","deliveryFee","packagingFee","finalTotal","updateQuantity","change","map","newQuantity","Math","max","removeItem","filter","children","onClick","className","length","div","initial","opacity","animate","exit","x","transition","type","damping","src","alt","disabled"],"sources":["D:/Cursor/cursor_test/src/components/Cart.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { ShoppingCartIcon, XMarkIcon } from '@heroicons/react/24/outline';\r\n\r\ninterface CartItem {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n  image: string;\r\n  specialRequest?: string;\r\n}\r\n\r\nconst Cart: React.FC = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [items, setItems] = useState<CartItem[]>([\r\n    {\r\n      id: 1,\r\n      name: '红烧狮子头',\r\n      price: 68,\r\n      quantity: 1,\r\n      image: '/images/dish1.jpg',\r\n      specialRequest: '不要香菜'\r\n    }\r\n  ]);\r\n\r\n  const total = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n  const deliveryFee = 5;\r\n  const packagingFee = 2;\r\n  const finalTotal = total + deliveryFee + packagingFee;\r\n\r\n  const updateQuantity = (id: number, change: number) => {\r\n    setItems(items.map(item => {\r\n      if (item.id === id) {\r\n        const newQuantity = Math.max(1, item.quantity + change);\r\n        return { ...item, quantity: newQuantity };\r\n      }\r\n      return item;\r\n    }));\r\n  };\r\n\r\n  const removeItem = (id: number) => {\r\n    setItems(items.filter(item => item.id !== id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* 悬浮购物车按钮 */}\r\n      <button\r\n        onClick={() => setIsOpen(true)}\r\n        className=\"fixed bottom-8 right-8 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary-dark\"\r\n      >\r\n        <ShoppingCartIcon className=\"h-6 w-6\" />\r\n        {items.length > 0 && (\r\n          <span className=\"absolute -top-2 -right-2 bg-accent-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n            {items.length}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* 购物车面板 */}\r\n      {isOpen && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-50\"\r\n          onClick={() => setIsOpen(false)}\r\n        >\r\n          <motion.div\r\n            initial={{ x: '100%' }}\r\n            animate={{ x: 0 }}\r\n            exit={{ x: '100%' }}\r\n            transition={{ type: 'spring', damping: 20 }}\r\n            className=\"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\"\r\n          >\r\n            <div className=\"p-4 border-b\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h2 className=\"text-xl font-heading\">购物车</h2>\r\n                <button onClick={() => setIsOpen(false)}>\r\n                  <XMarkIcon className=\"h-6 w-6\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col h-[calc(100vh-200px)]\">\r\n              {/* 商品列表 */}\r\n              <div className=\"flex-1 overflow-y-auto p-4\">\r\n                {items.map(item => (\r\n                  <div key={item.id} className=\"flex items-center space-x-4 mb-4\">\r\n                    <img\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      className=\"w-20 h-20 object-cover rounded\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-medium\">{item.name}</h3>\r\n                      <p className=\"text-primary font-price\">¥{item.price}</p>\r\n                      {item.specialRequest && (\r\n                        <p className=\"text-sm text-gray-500\">\r\n                          备注：{item.specialRequest}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, -1)}\r\n                        className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\"\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <span>{item.quantity}</span>\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, 1)}\r\n                        className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                      <button\r\n                        onClick={() => removeItem(item.id)}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                      >\r\n                        <XMarkIcon className=\"h-5 w-5\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* 结算区域 */}\r\n              <div className=\"border-t p-4\">\r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>商品总额</span>\r\n                    <span>¥{total}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>配送费</span>\r\n                    <span>¥{deliveryFee}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>包装费</span>\r\n                    <span>¥{packagingFee}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between font-bold text-lg\">\r\n                    <span>总计</span>\r\n                    <span className=\"text-primary\">¥{finalTotal}</span>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  className=\"w-full bg-primary text-white py-3 rounded-full hover:bg-primary-dark\"\r\n                  disabled={items.length === 0}\r\n                >\r\n                  去结算\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}