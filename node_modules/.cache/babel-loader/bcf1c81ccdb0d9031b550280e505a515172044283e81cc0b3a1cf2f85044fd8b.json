{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[{id:1,name:'主食',subCategories:[{id:11,name:'米饭面食'},{id:12,name:'包子饺子'}]},{id:2,name:'热菜',subCategories:[{id:21,name:'川菜'},{id:22,name:'粤菜'},{id:23,name:'湘菜'}]},{id:3,name:'凉菜',subCategories:[{id:31,name:'开胃凉菜'},{id:32,name:'特色凉菜'}]},{id:4,name:'饮品',subCategories:[{id:41,name:'冷饮'},{id:42,name:'热饮'},{id:43,name:'奶茶特调'}]},{id:5,name:'套餐组合'}];const CategoryNav=()=>{const[activeCategory,setActiveCategory]=useState(null);const[isMobile,setIsMobile]=useState(window.innerWidth<768);React.useEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<768);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:isMobile?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto whitespace-nowrap pb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex space-x-4 px-4\",children:categories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveCategory(activeCategory===category.id?null:category.id),className:`px-4 py-2 rounded-full text-sm font-medium ${activeCategory===category.id?'bg-primary text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,children:category.name},category.id))})}):/*#__PURE__*/// PC端固定分类栏\n_jsx(\"div\",{className:\"flex space-x-8 border-b border-gray-200 pb-4\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveCategory(activeCategory===category.id?null:category.id),className:`px-4 py-2 text-base font-medium ${activeCategory===category.id?'text-primary border-b-2 border-primary':'text-gray-700 hover:text-primary'}`,children:category.name}),category.subCategories&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:activeCategory===category.id?1:0,y:activeCategory===category.id?0:10},className:\"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-10\",children:category.subCategories.map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100\",children:sub.name},sub.id))})]},category.id))})});};export default CategoryNav;","map":{"version":3,"names":["React","useState","motion","jsx","_jsx","jsxs","_jsxs","categories","id","name","subCategories","CategoryNav","activeCategory","setActiveCategory","isMobile","setIsMobile","window","innerWidth","useEffect","handleResize","addEventListener","removeEventListener","className","children","map","category","onClick","div","initial","opacity","y","animate","sub"],"sources":["D:/Cursor/cursor_test/src/components/CategoryNav.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface Category {\r\n  id: number;\r\n  name: string;\r\n  subCategories?: {\r\n    id: number;\r\n    name: string;\r\n  }[];\r\n}\r\n\r\nconst categories: Category[] = [\r\n  {\r\n    id: 1,\r\n    name: '主食',\r\n    subCategories: [\r\n      { id: 11, name: '米饭面食' },\r\n      { id: 12, name: '包子饺子' }\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '热菜',\r\n    subCategories: [\r\n      { id: 21, name: '川菜' },\r\n      { id: 22, name: '粤菜' },\r\n      { id: 23, name: '湘菜' }\r\n    ]\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '凉菜',\r\n    subCategories: [\r\n      { id: 31, name: '开胃凉菜' },\r\n      { id: 32, name: '特色凉菜' }\r\n    ]\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '饮品',\r\n    subCategories: [\r\n      { id: 41, name: '冷饮' },\r\n      { id: 42, name: '热饮' },\r\n      { id: 43, name: '奶茶特调' }\r\n    ]\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '套餐组合'\r\n  }\r\n];\r\n\r\nconst CategoryNav: React.FC = () => {\r\n  const [activeCategory, setActiveCategory] = useState<number | null>(null);\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n  React.useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* 移动端横向滚动 */}\r\n      {isMobile ? (\r\n        <div className=\"overflow-x-auto whitespace-nowrap pb-2\">\r\n          <div className=\"inline-flex space-x-4 px-4\">\r\n            {categories.map((category) => (\r\n              <button\r\n                key={category.id}\r\n                onClick={() => setActiveCategory(activeCategory === category.id ? null : category.id)}\r\n                className={`px-4 py-2 rounded-full text-sm font-medium ${\r\n                  activeCategory === category.id\r\n                    ? 'bg-primary text-white'\r\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {category.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        // PC端固定分类栏\r\n        <div className=\"flex space-x-8 border-b border-gray-200 pb-4\">\r\n          {categories.map((category) => (\r\n            <div key={category.id} className=\"relative group\">\r\n              <button\r\n                onClick={() => setActiveCategory(activeCategory === category.id ? null : category.id)}\r\n                className={`px-4 py-2 text-base font-medium ${\r\n                  activeCategory === category.id\r\n                    ? 'text-primary border-b-2 border-primary'\r\n                    : 'text-gray-700 hover:text-primary'\r\n                }`}\r\n              >\r\n                {category.name}\r\n              </button>\r\n              {category.subCategories && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{\r\n                    opacity: activeCategory === category.id ? 1 : 0,\r\n                    y: activeCategory === category.id ? 0 : 10\r\n                  }}\r\n                  className=\"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-10\"\r\n                >\r\n                  {category.subCategories.map((sub) => (\r\n                    <button\r\n                      key={sub.id}\r\n                      className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100\"\r\n                    >\r\n                      {sub.name}\r\n                    </button>\r\n                  ))}\r\n                </motion.div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryNav; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAWvC,KAAM,CAAAC,UAAsB,CAAG,CAC7B,CACEC,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,IAAI,CACVC,aAAa,CAAE,CACb,CAAEF,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,MAAO,CAAC,CACxB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,MAAO,CAAC,CAE5B,CAAC,CACD,CACED,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,IAAI,CACVC,aAAa,CAAE,CACb,CAAEF,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CACtB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CACtB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CAE1B,CAAC,CACD,CACED,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,IAAI,CACVC,aAAa,CAAE,CACb,CAAEF,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,MAAO,CAAC,CACxB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,MAAO,CAAC,CAE5B,CAAC,CACD,CACED,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,IAAI,CACVC,aAAa,CAAE,CACb,CAAEF,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CACtB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,IAAK,CAAC,CACtB,CAAED,EAAE,CAAE,EAAE,CAAEC,IAAI,CAAE,MAAO,CAAC,CAE5B,CAAC,CACD,CACED,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,MACR,CAAC,CACF,CAED,KAAM,CAAAE,WAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAgB,IAAI,CAAC,CACzE,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAACe,MAAM,CAACC,UAAU,CAAG,GAAG,CAAC,CAEjEjB,KAAK,CAACkB,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBJ,WAAW,CAACC,MAAM,CAACC,UAAU,CAAG,GAAG,CAAC,CACtC,CAAC,CACDD,MAAM,CAACI,gBAAgB,CAAC,QAAQ,CAAED,YAAY,CAAC,CAC/C,MAAO,IAAMH,MAAM,CAACK,mBAAmB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEf,IAAA,QAAKkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAEtBT,QAAQ,cACPV,IAAA,QAAKkB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDnB,IAAA,QAAKkB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACxChB,UAAU,CAACiB,GAAG,CAAEC,QAAQ,eACvBrB,IAAA,WAEEsB,OAAO,CAAEA,CAAA,GAAMb,iBAAiB,CAACD,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAAG,IAAI,CAAGiB,QAAQ,CAACjB,EAAE,CAAE,CACtFc,SAAS,CAAE,8CACTV,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAC1B,uBAAuB,CACvB,6CAA6C,EAChD,CAAAe,QAAA,CAEFE,QAAQ,CAAChB,IAAI,EARTgB,QAAQ,CAACjB,EASR,CACT,CAAC,CACC,CAAC,CACH,CAAC,cAEN;AACAJ,IAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAC1DhB,UAAU,CAACiB,GAAG,CAAEC,QAAQ,eACvBnB,KAAA,QAAuBgB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC/CnB,IAAA,WACEsB,OAAO,CAAEA,CAAA,GAAMb,iBAAiB,CAACD,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAAG,IAAI,CAAGiB,QAAQ,CAACjB,EAAE,CAAE,CACtFc,SAAS,CAAE,mCACTV,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAC1B,wCAAwC,CACxC,kCAAkC,EACrC,CAAAe,QAAA,CAEFE,QAAQ,CAAChB,IAAI,CACR,CAAC,CACRgB,QAAQ,CAACf,aAAa,eACrBN,IAAA,CAACF,MAAM,CAACyB,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CACPF,OAAO,CAAEjB,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAAG,CAAC,CAAG,CAAC,CAC/CsB,CAAC,CAAElB,cAAc,GAAKa,QAAQ,CAACjB,EAAE,CAAG,CAAC,CAAG,EAC1C,CAAE,CACFc,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAE5EE,QAAQ,CAACf,aAAa,CAACc,GAAG,CAAEQ,GAAG,eAC9B5B,IAAA,WAEEkB,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAE7ES,GAAG,CAACvB,IAAI,EAHJuB,GAAG,CAACxB,EAIH,CACT,CAAC,CACQ,CACb,GA7BOiB,QAAQ,CAACjB,EA8Bd,CACN,CAAC,CACC,CACN,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAG,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}